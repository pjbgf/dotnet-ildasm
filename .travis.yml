language: csharp
dist: trusty

matrix:
  include:
    - dotnet: 1.0.1
      mono: none
   - mono: latest

before_install:
- chmod +x build.sh
- dotnet restore

install:
- ./build.sh -c Release

script:
- dotnet run --framework netcoreapp1.0 --project src/dotnet-ildasm/dotnet-ildasm.csproj src/dotnet-ildasm.Sample/bin/Release/netstandard1.6/dotnet-ildasm.Sample.dll -o netcore_netstandard16.il
- dotnet run --framework netcoreapp1.0 --project src/dotnet-ildasm/dotnet-ildasm.csproj src/dotnet-ildasm.Sample/bin/Release/net45/dotnet-ildasm.Sample.dll -o netcore_net45.il