language: csharp
dist: trusty

matrix:
  include:
    - dotnet: 1.0.1
      mono: none

before_install:
- chmod +x build.sh
- chmod +x run-cross-checks.sh
- dotnet restore

install:
- dotnet build src/dotnet-ildasm.Sample/dotnet-ildasm.Sample.csproj -c Release -f netstandard1.6
- dotnet build src/dotnet-ildasm/dotnet-ildasm.csproj -c Release -f netcoreapp1.0

script:
- dotnet run --framework netcoreapp1.0 --project src/dotnet-ildasm/dotnet-ildasm.csproj src/dotnet-ildasm.Sample/bin/Release/netstandard1.6/dotnet-ildasm.Sample.dll -o netcore_netstandard16.il